古典密码学 

```
起源于古代战争:在战争中，为了了防⽌止书信被截获后重要信息泄露露，⼈人们开始对书信进⾏行行加密。
```

移位式加密 

```
如密码棒，使⽤用布条缠绕在⽊木棒上的⽅方式来对书信进⾏行行加密。
```

```
加密算法:缠绕后书写
密钥:⽊木棒的尺⼨寸
```

替换式加密 

```
按规则使⽤用不不同的⽂文字来替换掉原先的⽂文字来进⾏行行加密。
```

码表: 原始字符:ABCDEFGHIJKLMNOPQRSTUVWXYZ 密码字符:BCDEFGHIJKLMNOPQRSTUVWXYZA 原始书信:I love you
 加密书信:J mpwf zpv
 解读后:I love you 

加密算法:替换⽂文字 

1 

扔物线学堂 

密钥:替换的码表 

现代密码学 

```
  可以加密任何⼆二进制数据
  ⾮非对称加密的出现使得密码学有了了更更⼴广泛的⽤用途:数字签名
```

对称加密 

```
通信双⽅方使⽤用同⼀一个密钥，使⽤用加密算法配合上密钥来加密，解密时使⽤用加密过程的完全逆过程配合
密钥来进⾏行行解密。
简化模型即上⾯面的古典密码学中替换式加密的模型:对⽂文字进⾏行行规则化替换来加密，对密⽂文进⾏行行逆向
的规则化替换来解密。
```

经典算法 

DES(56 位密钥，密钥太短⽽而逐渐被弃⽤用)、AES(128 位、192 位、256 位密钥，现在最流⾏行行) 对称加密作⽤用
 加密通信，防⽌止信息在不不安全⽹网络上被截获后，信息被⼈人读取或篡改。
 对称加密(如 **AES**)的破解 

破解思路路 

拿到⼀一组或多组原⽂文-密⽂文对 设法找到⼀一个密钥，这个密钥可以将这些原⽂文-密⽂文对中的原⽂文加密为密⽂文，以及将密⽂文解密为 原⽂文的组合，即为成功破解 

反破解 

```
⼀一种优秀的对称加密算法的标准是，让破解者找不不到⽐比穷举法(暴暴⼒力力破解法)更更有效的破解⼿手段，并
且穷举法的破解时间⾜足够⻓长(例例如数千年年)。
```

对称加密的缺点 

```
密钥泄露露:不不能在不不安全⽹网络上传输密钥，⼀一旦密钥泄露露则加密通信失败。
```

⾮非对称加密 

```
原理理:使⽤用公钥对数据进⾏行行加密得到密⽂文;使⽤用私钥对数据进⾏行行解密得到原数据。
⾮非对称加密使⽤用的是复杂的数学技巧，在古典密码学中没有对应的原型。
```

rengwuxian.com 

2 

扔物线学堂 rengwuxian.com 

```
使⽤用⾮非对称加密通信，可以在不不可信⽹网络上将双⽅方的公钥传给对⽅方，然后在发消息前分别对消息使⽤用
对⽅方的公钥来加密和使⽤用⾃自⼰己的私钥来签名，做到不不可信⽹网络上的可靠密钥传播及加密通信。
由于私钥和公钥互相可解，因此⾮非对称加密还可以应⽤用于数字签名技术。
```

通常会对原数据 hash 以后对 hash 签名，然后附加在原数据的后⾯面作为签名。这是为了了让数据更更⼩小。 

经典算法:**RSA**(可⽤用于加密和签名)、**DSA**(仅⽤用于签名，但速度更更快) ⾮非对称加密的优缺点 

3 

扔物线学堂 rengwuxian.com 

```
  优点:可以在不不安全⽹网络上传输密钥
  缺点:计算复杂，因此性能相⽐比对称加密差很多
```

⾮非对称加密(如 **RSA**、**ECDSA**)的破解 破解思路路 

和对称加密不不同之处在于，⾮非对称加密的公钥很容易易获得，因此制造原⽂文-密⽂文对是没有困难的 事 所以，⾮非对称加密的关键只在于，如何找到⼀一个正确的私钥，可以解密所有经过公钥加密过的密 ⽂文。找到这样的私钥即为成功破解 由于⾮非对称加密的⾃自身特性，怎样通过公钥来推断出私钥通常是⼀一种思路路(例例如 RSA)，但往往 最佳⼿手段依然是穷举法，只是和对称加密破解的区别在于，对称加密破解是不不断尝试⾃自⼰己的新密 钥是否可以将⾃自⼰己拿到的原⽂文-密⽂文对进⾏行行加密和解密，⽽而⾮非对称加密时不不断尝试⾃自⼰己的新私钥 是否和公钥互相可解。 

反破解 

```
和对称加密⼀一样，⾮非对称加密算法优秀的标准同样在于，让破解者找不不到⽐比穷举法更更有效的破解⼿手
段，并且穷举法的破解时间⾜足够⻓长。
```

密码学密钥和登录密码 

密钥(key) 

```
     场景:⽤用于加密和解密
     ⽬目的:保证数据被盗时不不会被⼈人读懂内容
     焦点:数据
```

登录密码(password) 

```
     场景:⽤用户进⼊入⽹网站或游戏前的身份验证
     ⽬目的:数据提供⽅方或应⽤用服务⽅方对账户拥有者数据的保护，保证「你是你」的时候才提供
     权限
     焦点:身份
 上⾯面这些区别不不必背会，理理解就可以了了
```

**Base64** 

将⼆二进制数据转换成由 64 个字符组成的字符串串的编码算法 什什么是⼆二进制数据? 

```
  ⼴广义:所有计算机数据都是⼆二进制数据
  􏰀义:⾮非⽂文本数据即⼆二进制数据
```

算法 

将原数据每 6 位对应成 Base 64 索引表中的⼀一个字符编排成⼀一个字符串串(每个字符 8 位)。 Base64 索引表: 

4 

扔物线学堂 rengwuxian.com 

编码示例例:把「Man」进⾏行行 Base64 编码 

5 

扔物线学堂 rengwuxian.com 

编码示例例:Base64 的末尾补⾜足 

**Base64** 的⽤用途 

\1. 将⼆二进制数据扩充了了储存和传输途径(例例如可以把数据保存到⽂文本⽂文件、可以通过聊天对话框或 短信形式发送⼆二进制数据、可以在 URL 中加⼊入简单的⼆二进制数据) 

\2. 普通的字符串串在经过 Base64 编码后的结果会变得⾁肉眼不不可读，因此可以适⽤用于⼀一定条件下的防 偷窥(较少⽤用) 

**Base64** 的缺点
 因为⾃自身的原理理(6 位变 8 位)，因此每次 Base64 编码之后，数据都会增⼤大约 1/3，所以会影响存 

储和传输性能。 

「**Base64** 加密图⽚片传输更更安全和⾼高效」???
 不不。⾸首先，Base64 并不不是加密;另外，Base64 会导致数据增⼤大 1/3，降低⽹网络性能，增⼤大⽤用户流量量 

开销，是画蛇添⾜足的⼿手段。(最好不不要拿来 diss 你们公司的后端哟，友善)
 Base64 对图⽚片进⾏行行编码的⽤用于在于，有时需要使⽤用⽂文本形式来传输图⽚片。除此之外，完全没必要使 

⽤用 Base64 对图⽚片进⾏行行额外处理理。 变种:**Base58** 

⽐比特币使⽤用的编码⽅方式，去掉了了 Base64 中的数字 "0"，字⺟母⼤大写 "O"，字⺟母⼤大写 "I"，和字⺟母⼩小写 "l"，以及 "+" 和 "/" 符号，⽤用于⽐比特币地址的表示。 

Base58 对于 Base64 的改动，主要⽬目的在于⽤用户的便便捷性。由于去掉了了难以区分的字符，使得 Base58 对于「⼈人⼯工抄写」更更加⽅方便便。另外，去掉了了 "+" "/" 号后也让⼤大多数的软件可以⽅方便便双击选 取。 

**URL** 使⽤用的百分号编码
 在 URL 的字符串串中，对⼀一些不不⽤用于特殊⽤用途的保留留字符，使⽤用百分号 "%" 为前缀进⾏行行单􏰁编码，以避 

免出现解析错误。 

例例如，要在 http://hencoder.com/users 后⾯面添加查询字符串串，查询 name 为「隐匿匿&伟⼤大」的⽤用 户，如果直接写成 http://hencoder.com/user/?name=隐匿匿&伟⼤大 ，"&" 符号就会被解析为分隔符 号，因此需要对它进⾏行行转码，转码后的 URL 为 http://hencoder.com/user/?name=隐匿匿%26伟⼤大 。 

6 

扔物线学堂 

这种编码仅⽤用于 URL，⽬目的是避免解析错误的出现。 

压缩与解压缩 

含义 

```
  压缩:将数据使⽤用更更具有存储优势的编码算法进⾏行行编码。
  解压缩:将压缩数据解码还原成原来的形式，以⽅方便便使⽤用。
```

⽬目的 

```
减⼩小数据占⽤用的存储空间。
```

粗暴暴算法举例例 

将下⾯面⽂文本内容压缩: 

rengwuxian.com 

```
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
aaaaaaaaaaaabbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
使⽤用某种算法压缩后的数据为:
   compress:a:1062;b:105
 注:具体的压缩场景有很多，因此压缩算法也会复杂得多，上⾯面只是⼀一个原型算法。
```

压缩是编码吗? 

```
是。所谓编码，即把数据从⼀一种形式转换为另⼀一种形式。压缩过程属于编码过程，解压缩过程属于解
码过程。
```

常⻅见压缩算法 

DEFLATE、JPEG、MP3 等。 图⽚片与⾳音频、视频编解码 

7 

扔物线学堂 rengwuxian.com 

含义 

```
将图像、⾳音频、视频数据通过编码来转换成存档形式(编码)，以及从存档形式转换回来(解码)。
```

⽬目的 

```
存储和压缩媒体数据(⼤大多数媒体编码算法会压缩数据，但不不是全部)。
```

图⽚片压缩粗暴暴算法举例例 

⼀一张纯⽩白(⽩白⾊色的 16 进制数值为 0xffffff)的 64x64 不不透明像素图⽚片，原数据格式⼤大致为: 

```
width:64;height:64;ffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff
fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff.......f
fffff
使⽤用某种算法压缩后的数据为:
   width:64;height:64;ffffff:[0,0]-[63,63]
 注:具体的压缩场景有很多，因此压缩算法也会复杂得多，上⾯面只是⼀一个原型算法。
⾳音频与视频的编码与上⾯面的图⽚片编码同理理。
```

序列列化 

把数据对象(⼀一般是内存中的，例例如 JVM 中的对象)转换成字节序列列的过程。对象在程序内存⾥里里的存 放形式是散乱的(存放在不不同的内存区域、并且由引⽤用进⾏行行连接)，通过序列列化可以把内存中的对象 转换成⼀一个字节序列列，从⽽而使⽤用 byte[] 等形式进⾏行行本地存储或⽹网络传输，在需要的时候重新组装(反 序列列化)来使⽤用。 

⽬目的 

```
让内存中的对象可以被储存和传输。
```

序列列化是编码吗? 

不不是 

和编码的区别 

8 

扔物线学堂 rengwuxian.com 

```
编码是把数据由⼀一种数据格式转换成另⼀一种数据格式;⽽而序列列化是把数据由内存中的对象(⽽而不不是某
种具体的格式)转换成字节序列列。
```

**Hash** 

定义 

把任意数据转换成指定⼤大⼩小范围(通常很⼩小，例例如 256 字节以内)的数据。 作⽤用
 相当于从数据中提出摘要信息，因此最主要⽤用途是数字指纹。
 **Hash** 的实际⽤用途:唯⼀一性验证 

例例如 Java 中的 hashCode() ⽅方法。 怎么重写 **hashCode** ⽅方法? 

把 equals() ⽅方法中的每个⽤用于判断相等的变量量都放进 hashCode() 中，⼀一起⽣生成⼀一个尽量量不不会碰撞的 整数即可 

为什什么每次重写 equals() ⽅方法都需要?因为你要把新的判断条件放进 hashCode() 啊。 **Hash** 的实际⽤用途:数据完整性验证 

从⽹网络上下载⽂文件后，通过⽐比对⽂文件的 Hash 值(例例如 MD5、SHA1)，可以确认下载的⽂文件是否有 损坏。如果下载的⽂文件 Hash 值和⽂文件提供⽅方给出的 Hash 值⼀一致，则证明下载的⽂文件是完好⽆无损 的。 

**Hash** 的实际⽤用途:快速查找 HashMap
 **Hash** 的实际⽤用途:隐私保护 

当重要数据必须暴暴露露的时候，有事可以选择暴暴露露它的 Hash 值(例例如 MD5)，以保障原数据的安全。 例例如⽹网站登录时，可以只保存⽤用户密码的 Hash 值，在每次登录验证时只需要将输⼊入的密码的 Hash 值和数据库中保存的 Hash 值作⽐比对就好，⽹网站⽆无需知道⽤用户的密码。这样，当⽹网站数据失窃时，⽤用 户不不会因为⾃自⼰己的密码被盗导致其他⽹网站的安全也受到威胁。 

注意:这不不属于加密。 

**Hash** 是编码吗? 

不不是。 Hash 是单向过程，往往是不不可逆的，⽆无法进⾏行行逆向恢复操作，因此 Hash 不不属于编码。 

**Hash** 是加密吗? 

不不是。Hash 是单向过程，⽆无法进⾏行行逆向回复操作，因此 Hash 不不属于加密。(记住，MD5 不不是加 密!) 