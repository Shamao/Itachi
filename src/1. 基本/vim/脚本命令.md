
## 前言

> Vim 通常是在服务器上操作/修改配置文件的时候使用。类似的编辑器当然还有 vi, emacs。同样作为编辑器与IDE最大的区别是不使用鼠标进行操作，完全使用键盘，具有系统资源占用小，打开较大文件速度快的特点。相对应的进行操作都是通过键盘敲命令操作，所以要记住比较多的命令，学习起来还是比较枯燥的，这里整理了一些常用的命令，以备大家在用的时候作为一个参考。

## 模式

### 全局命令

- `:w` 保存
- `:q!` 强制退出
- `:q` 退出
- `:wq` or `:x` or `ZZ` 保存并退出
- `:h` 帮助文档
- `:saveas file` 另存为
- `:!cmd` 执行 linux 命令

### 光标移动

- `h` 左移光标
- `j` 下移光标
- `k` 上移光标
- `l` 右移光标
- `$` 定位光标到当前行尾
- `0` 定位光标到当前行首
- `H` 定位光标到当前页面顶部
- `M` 定位光标到当前页面中间
- `L` 定位光标到当前页面底部
- `gg` 定位光标到文件第一行
- `G` 定位光标到文件最后一行
- `ctrl + e` 滚动窗口向下一行
- `ctrl + y` 滚动窗口向上一行
- `ctrl + b` 滚动窗口到上一屏
- `ctrl + f` 滚动窗口到下一屏
- `ctrl + d` 滚动窗口到下半屏
- `ctrl + u` 滚动窗口到上半屏

### 复制、粘贴、剪切

- `yy` 复制当前行文本
- `nyy` 向下复制*n*行
- `dd` 剪切当前行
- `ndd` 向下剪切*n*行
- `p` 粘贴至光标后一个字符
- `P` 粘贴至光标位置
- `x` 剪切光标后一个字符
- `dw` 剪切当前单词
- `yw` 复制当前单词

​    ![img](https://user-gold-cdn.xitu.io/2019/8/22/16cb91249daec784?imageslim) 

### 编辑

- `r` 替换当前光标位置后一个字符
- `xp` 当前字符向后移动
- `J` 将下一行合并到当前行
- `u` 撤销操作（返回上一步）
- `.` 执行上一个命令

### 查找/替换

- `/pattern` 查找关键字 *pattern*
- `?pattern` 向上查找关键字 *pattern*
- `n` 移动光标至下一个匹配
- `N` 移动光标至上一个匹配
- `:noh` 移除匹配的高亮显示
- `:%s/old/new/g` 替换全部
- `:%s/old/new/gc` 逐个替换

​    ![img](https://user-gold-cdn.xitu.io/2019/8/22/16cb912513618628?imageslim) 

### insert 模式

- `a` 当前位置后插入字符
- `A` 当前行尾插入字符
- `o` 当前行新新起一行插入字符
- `O` 当前行上一行新起一行插入字符
- `i` 当前位置前插入字符
- `I` 当前行首插入字符
- `s` 删除当前字符，插入字符
- `cc` 删除当前行，插入字符
- `$c` 当前位置删除当前行之后的内容插入字符
- `ctrl + n` or `ctrl + p` 自动补齐
- `esc` 退出 insert 模式

​    ![img](https://user-gold-cdn.xitu.io/2019/8/22/16cb9124ddc2700a?imageslim) 

### 可视化模式

- `v` 进入可视化模式字符选择
- `V` 进入可视化模式行选择
- `ctrl + v` 进入可视化模式块选择
- `>` 向右缩进
- `<` 向左缩进
- `=` 自动缩进
- `esc` 退出可视化模式

​    ![img](https://user-gold-cdn.xitu.io/2019/8/22/16cb9124cac2b757?imageslim) 

### 宏录制

- `qa` 开始录制宏 *a*
- `q` 结束录制
- `@a` 执行宏 *a*
- `@@` 执行上一个执行的宏

## 配置

> Vim 的全局配置文件是 `.vimrc`，目录通常在`/etc/.vimrc` 或者 `/etc/vim/.vimrc`。 影响语法高亮、缩进、外观、编辑等选项

```
" 引入配色需要引入.vim 文件
" 这里分享一个个人觉的挺好看的 https://github.com/tomasr/molokai.git
" 文件下载下来放到 ~/.vim/colors  里面就可以了
" 启用以下配置生效
" 配置不是很多基本够用了


syntax on

" 显示行数
set number

" 自动对齐
set autoindent

" 制表符表示2个空格
set tabstop=2

" 每级缩进长度为2个空格
set shiftwidth=2

set t_Co=256

" 指定主题
colorscheme molokai

" 打开状态栏标尺
set ruler
set smartindent
set nobackup
set cindent

" 高亮匹配
set hlsearch
set showmatch
set showcmd
复制代码
```

## 参考

[www.vim.org/](https://www.vim.org/)

## 最后

学习 Vim 是枯燥的，可能是因为命令太多吧，而且即使短时间记住了，长时间不去用的话也是会淡忘的，个人觉的记住几个常用的就可以了，毕竟一般情况下是在服务器修改某个配置的文件的时候去使用。


